<!DOCTYPE html>
<html lang="ko" 
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/admin-layout}">
<head>
    <title>새 상품 등록</title>
</head>
<body>
    <div layout:fragment="content">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2>새 상품 등록</h2>
            <button class="btn btn-secondary" onclick="history.back()">목록으로</button>
        </div>

        <form id="productForm" action="/admin/product/create" method="POST">
            <!-- 기본 정보 -->
            <div class="form-section">
                <h5 class="section-title">기본 정보</h5>
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="productName" class="form-label">상품명</label>
                            <input type="text" class="form-control" id="productName" name="bookName" placeholder="예: 자바의 정석">
                        </div>
                        <div class="mb-3">
                            <label for="author" class="form-label">저자</label>
                            <input type="text" class="form-control" id="author" name="author" placeholder="예: 남궁성">
                        </div>
                        <div class="mb-3">
                            <label for="publisher" class="form-label">출판사</label>
                            <input type="text" class="form-control" id="publisher" name="publisher" placeholder="예: 도우출판">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="isbn" class="form-label">ISBN</label>
                            <input type="text" class="form-control" id="isbn" name="isbn" placeholder="예: 9788994492032">
                        </div>
                        <div class="mb-3">
                            <label for="category" class="form-label">카테고리</label>
                            <select class="form-select" id="category" name="bookCategory">
                                <option value="">선택하세요</option>
                                <option value="programming">프로그래밍</option>
                                <option value="novel">소설</option>
                                <option value="self-help">자기계발</option>
                                <option value="business">경제/경영</option>
                                <option value="science">과학</option>
                                <option value="history">역사</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="publishDate" class="form-label">출간일</label>
                            <input type="date" class="form-control" id="publishDate" name="publishDate">
                        </div>
                    </div>
                </div>
            </div>

            <!-- 가격 정보 -->
            <div class="form-section">
                <h5 class="section-title">가격 정보</h5>
                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="originalPrice" class="form-label">정가</label>
                            <div class="input-group">
                                <span class="input-group-text">₩</span>
                                <input type="number" class="form-control" id="originalPrice" name="regularPrice" placeholder="30000">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="salePrice" class="form-label">판매가</label>
                            <div class="input-group">
                                <span class="input-group-text">₩</span>
                                <input type="number" class="form-control" id="salePrice" name="salePrice" placeholder="27000">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="discountRate" class="form-label">할인율</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="discountRate" name="discountRate" value="0" readonly>
                                <span class="input-group-text">%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 재고 정보 -->
            <div class="form-section">
                <h5 class="section-title">재고 정보</h5>
                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="initialStock" class="form-label">초기 재고</label>
                            <input type="number" class="form-control" id="initialStock" name="product" placeholder="50">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="minStock" class="form-label">최소 재고</label>
                            <input type="number" class="form-control" id="minStock" name="minProduct" placeholder="10">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="maxStock" class="form-label">최대 재고</label>
                            <input type="number" class="form-control" id="maxStock" name="maxProduct" placeholder="100">
                        </div>
                    </div>
                </div>
            </div>

            <!-- 상품 설명 -->
            <div class="form-section">
                <h5 class="section-title">상품 설명</h5>
                <div class="mb-3">
                    <label for="description" class="form-label">상품 설명</label>
                    <textarea class="form-control" id="description" name="explanation" rows="5" placeholder="상품에 대한 상세한 설명을 입력하세요..."></textarea>
                </div>
            </div>

            <!-- 버튼 -->
            <div class="d-flex justify-content-end gap-2">
                <button type="button" class="btn btn-secondary" onclick="cancelRegistration()">취소</button>
                <button type="submit" class="btn btn-primary">저장</button>
            </div>
        </form>
    </div>
    
    <th:block layout:fragment="javascript">
        <script th:src="@{/js/admin-product.js}"></script>
        <script>
            // Set active menu
            const activeMenu = 'products';
        </script>
    </th:block>
</body>
</html>