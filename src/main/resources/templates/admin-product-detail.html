<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>상품 상세 정보 - BookStore Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            background-color: #343a40;
            min-height: 100vh;
            padding: 20px 0;
        }
        .sidebar a {
            color: #fff;
            text-decoration: none;
            padding: 10px 20px;
            display: block;
            transition: background-color 0.3s;
        }
        .sidebar a:hover {
            background-color: #495057;
        }
        .sidebar .active {
            background-color: #007bff;
        }
        .main-content {
            padding: 30px;
        }
        .detail-section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #007bff;
        }
        .product-image {
            width: 200px;
            height: 280px;
            background-color: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
        }
        .stock-status {
            font-size: 1.5rem;
            font-weight: bold;
        }
        .stock-low { color: #dc3545; }
        .stock-normal { color: #28a745; }
        .stock-out { color: #6c757d; }
    </style>
</head>
<body>
    <nav class="navbar navbar-dark bg-dark">
        <div class="container-fluid">
            <span class="navbar-brand">📚 BookStore Admin</span>
            <div class="d-flex align-items-center">
                <span class="text-white me-3">관리자님 환영합니다</span>
                <button class="btn btn-outline-light btn-sm" onclick="logout()">로그아웃</button>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- 사이드바 -->
            <div class="col-md-2 sidebar">
                <a href="admin-main.html">🏠 대시보드</a>
                <a href="admin-users.html">👥 회원 관리</a>
                <a href="admin-products.html" class="active">📦 상품 관리</a>
                <a href="admin-orders.html">🛒 주문 관리</a>
                <hr class="bg-white">
                <a href="#" onclick="alert('재고 관리 기능 준비중')">📊 재고 관리</a>
                <a href="#" onclick="alert('통계 기능 준비중')">📈 통계</a>
                <a href="#" onclick="alert('설정 기능 준비중')">⚙️ 설정</a>
            </div>

            <!-- 메인 콘텐츠 -->
            <div class="col-md-10 main-content">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h2>상품 상세 정보</h2>
                    <button class="btn btn-secondary" onclick="history.back()">목록으로</button>
                </div>

                <!-- 기본 정보 -->
                <div class="detail-section">
                    <h5 class="section-title">기본 정보</h5>
                    <div class="row">
                        <div class="col-md-3">
                            <div class="product-image">
                                <span class="text-muted">상품 이미지</span>
                            </div>
                            <div class="mt-3">
                                <button class="btn btn-sm btn-outline-primary w-100">이미지 변경</button>
                            </div>
                        </div>
                        <div class="col-md-9">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">상품코드</label>
                                        <input type="text" class="form-control" id="productId" value="B001" readonly>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">상품명</label>
                                        <input type="text" class="form-control" id="productName" value="자바의 정석">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">저자</label>
                                        <input type="text" class="form-control" id="author" value="남궁성">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">출판사</label>
                                        <input type="text" class="form-control" id="publisher" value="도우출판">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">ISBN</label>
                                        <input type="text" class="form-control" id="isbn" value="9788994492032">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">카테고리</label>
                                        <select class="form-select" id="category">
                                            <option selected>프로그래밍</option>
                                            <option>소설</option>
                                            <option>자기계발</option>
                                            <option>경제/경영</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">출간일</label>
                                        <input type="date" class="form-control" id="publishDate" value="2016-01-27">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">평점</label>
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="rating" value="4.8" min="0" max="5" step="0.1">
                                            <span class="input-group-text">/ 5.0</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 상품 설명 -->
                <div class="detail-section">
                    <h5 class="section-title">상품 설명</h5>
                    <textarea class="form-control" rows="5" id="description">자바를 처음 배우는 사람부터 실무에서 자바를 사용하는 개발자까지 모두를 위한 자바 기본서입니다. 자바의 기초 문법부터 객체지향 개념, 그리고 실무에서 필요한 다양한 기능들을 상세하게 설명합니다.</textarea>
                </div>

                <!-- 가격 및 재고 정보 -->
                <div class="detail-section">
                    <h5 class="section-title">가격 및 재고 정보</h5>
                    <div class="row">
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">정가</label>
                                <div class="input-group">
                                    <span class="input-group-text">₩</span>
                                    <input type="number" class="form-control" id="originalPrice" value="30000">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">판매가</label>
                                <div class="input-group">
                                    <span class="input-group-text">₩</span>
                                    <input type="number" class="form-control" id="salePrice" value="27000">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">할인율</label>
                                <div class="input-group">
                                    <input type="number" class="form-control" id="discount" value="10" min="0" max="100">
                                    <span class="input-group-text">%</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">현재 재고</label>
                                <input type="number" class="form-control stock-normal" id="stock" value="45">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">최소 재고</label>
                                <input type="number" class="form-control" id="minStock" value="10">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">최대 재고</label>
                                <input type="number" class="form-control" id="maxStock" value="100">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">상태</label>
                                <select class="form-select" id="status">
                                    <option selected>판매중</option>
                                    <option>품절</option>
                                    <option>판매중지</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 판매 통계 -->
                <div class="detail-section">
                    <h5 class="section-title">판매 통계</h5>
                    <div class="row text-center">
                        <div class="col-md-3">
                            <h4 class="text-primary">152</h4>
                            <p>총 판매량</p>
                        </div>
                        <div class="col-md-3">
                            <h4 class="text-success">₩4,104,000</h4>
                            <p>총 매출</p>
                        </div>
                        <div class="col-md-3">
                            <h4 class="text-info">23</h4>
                            <p>이번 달 판매</p>
                        </div>
                        <div class="col-md-3">
                            <h4 class="text-warning">4.8</h4>
                            <p>평균 평점</p>
                        </div>
                    </div>
                </div>

                <!-- 관리 버튼 -->
                <div class="d-flex justify-content-end gap-2">
                    <button class="btn btn-primary" onclick="saveProduct()">정보 저장</button>
                    <button class="btn btn-warning" onclick="duplicateProduct()">상품 복제</button>
                    <button class="btn btn-danger" onclick="deleteProduct()">상품 삭제</button>
                    <button class="btn btn-secondary" onclick="history.back()">목록으로</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // URL 파라미터에서 상품 ID 가져오기
        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get('id');
        
        // 상품 정보 로드 (실제로는 서버에서 데이터를 가져옴)
        function loadProductInfo() {
            const productInfo = {
                'B001': { name: '자바의 정석', author: '남궁성', publisher: '도우출판', price: 30000, stock: 45 },
                'B002': { name: '스프링 부트 실전', author: '김영한', publisher: '인프런출판', price: 35000, stock: 3 },
                'B003': { name: '클린 코드', author: '로버트 C. 마틴', publisher: '인사이트', price: 28000, stock: 22 },
                'B004': { name: '리팩토링 2판', author: '마틴 파울러', publisher: '한빛미디어', price: 32000, stock: 18 },
                'B005': { name: '이펙티브 자바 3판', author: '조슈아 블로크', publisher: '인사이트', price: 36000, stock: 0 }
            };
            
            if (productId && productInfo[productId]) {
                document.getElementById('productId').value = productId;
                document.getElementById('productName').value = productInfo[productId].name;
                document.getElementById('author').value = productInfo[productId].author;
                document.getElementById('publisher').value = productInfo[productId].publisher;
                document.getElementById('originalPrice').value = productInfo[productId].price;
                document.getElementById('stock').value = productInfo[productId].stock;
                
                // 재고 상태에 따라 색상 변경
                const stockInput = document.getElementById('stock');
                if (productInfo[productId].stock === 0) {
                    stockInput.className = 'form-control stock-out';
                } else if (productInfo[productId].stock < 10) {
                    stockInput.className = 'form-control stock-low';
                } else {
                    stockInput.className = 'form-control stock-normal';
                }
            }
        }
        
        loadProductInfo();

        function logout() {
            if (confirm('로그아웃 하시겠습니까?')) {
                alert('로그아웃 되었습니다.');
                window.location.href = 'admin-login.html';
            }
        }

        function saveProduct() {
            alert('상품 정보가 저장되었습니다.');
        }

        function duplicateProduct() {
            if (confirm('이 상품을 복제하시겠습니까?')) {
                alert('상품이 복제되었습니다.');
            }
        }

        function deleteProduct() {
            if (confirm('정말로 이 상품을 삭제하시겠습니까?\n이 작업은 되돌릴 수 없습니다.')) {
                alert('상품이 삭제되었습니다.');
                window.location.href = 'admin-products.html';
            }
        }
    </script>
</body>
</html>